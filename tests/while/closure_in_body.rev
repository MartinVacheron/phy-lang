var f1
var f2
var f3

var i = 1
while (i < 4) {
    var j = i
    fn f() { print j }

    if j == 1 { f1 = f }
    else { f3 = f }

    i = i + 1
}

f1() // expect: 1
f3() // expect: 3